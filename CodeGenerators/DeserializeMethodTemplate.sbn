using System;
using AtemSharp;
using AtemSharp.Enums;
using AtemSharp.Lib;

namespace {{namespace}};

public partial class {{className}}
{
    {% for field in deserializedFields %}
    {{field.DocumentationComment}}
    public {{field.Type}} {{field.PropertyName}}
    {
        get => {{field.Name}};
        internal set => {{field.Name}} = value;
    }

    {% endfor %}
    public static IDeserializedCommand Deserialize(ReadOnlySpan<byte> rawCommand, ProtocolVersion protocolVersion)
    {
        var result = new {{className}} {
            {% for field in deserializedFields %}
            {{field.PropertyName}} = {{field.DeserializeExpression}},
            {% endfor %}
        };
        {{internalDeserialization}}
        return result;
    }
}
